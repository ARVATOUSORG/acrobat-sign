
<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Create, manage, track, and automate signing workflows with the Acrobat Sign APIs. Create apps that integrate with Adobe's enterprise-class product lineup. Download one of the JAVA, JS, C#, REST, or OpenAPI SDKs."
  
  <title>Configuring Sign Solutions for Government &mdash; Acrobat Sign GovCloud Developer</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link href="../_static/jquery-ui.css" rel="stylesheet" />  
  <link href="../_static/copybutton.css" rel="stylesheet" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

    
  
  
  <link rel="canonical" href="https://opensource.adobe.com/acrobat-sign/test.html" />
  

  
  
  
  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/language_data.js"></script>
  <script type="text/javascript" src="../_static/searchtools.js"></script>
  <script type="text/javascript" src="../_static/clipboard.min.js"></script>
  <script type="text/javascript" src="../_static/copybutton.js"></script>
  <script type="text/javascript" src="../_static/js/theme.js"></script>
   
  
    <link rel="search" title="Search" href="search.html" /> 
  
<script type='text/javascript'> window.marketingtech = { adobe: { launch: { property: "global", environment: "production" } }, };</script>
<script src="https://www.adobe.com/marketingtech/main.min.js"></script>

	<script>
    $(document).ready(function () {
      $(window).scroll(function () {
        if ($(this).scrollTop() >= 50) {
          $('.fixedbar, .wy-nav-side').addClass('scroll');
          $('.wy-top-menu-wrapper').fadeOut();
        } else {
          $('.fixedbar, .wy-nav-side').removeClass('scroll');
          $('.wy-top-menu-wrapper').fadeIn();
        }
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 100) {
          $('#scroll').fadeIn();
        } else {
          $('#scroll').fadeOut();
        }
      });
      $('#scroll').click(function () {
        $("html, body").animate({ scrollTop: 0 }, 600);
        return false;
      });
    });
  </script>

<style>
  .wy-nav-content {max-width:90%}
  </style>
</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
	
 
        <div class="wy-side-nav-search" >
          

          
            <a href="toc.html" class="icon icon-home"> Acrobat Sign GovCloud Developer
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">GovCloud Developer Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="gstarted.html">GovCloud OAuth</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gstarted.html#govcloud-configuration">GovCloud Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="gstarted.html#sign-domains-and-apis">Sign Domains and APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="gstarted.html#govcloud-oauth-and-impersonation-apis">GovCloud OAuth and Impersonation APIs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gstarted.html#authorize"><strong>Authorize</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#request">Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#response">Response</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#success-response"><strong>Success Response</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#error-response"><strong>Error Response</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gstarted.html#token"><strong>Token</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#common-request-aspects">Common Request Aspects</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#request-with-authorization-code">Request with Authorization Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#request-with-refresh-token">Request with Refresh Token</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#requestimpersonation">RequestImpersonation</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#id1"><strong>Success Response</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#id2"><strong>Error Response</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gstarted.html#validate-token"><strong>Validate Token</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#id3">Common Request Aspects</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#id4">Success Response</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#id5"><strong>Error Response</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gstarted.html#invalidate-token"><strong>Invalidate Token</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#id6">Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#id7">Success Response</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#id8">Error Response</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gstarted.html#logout"><strong>Logout</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#id9">Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#success-response-4">Success Response</a></li>
<li class="toctree-l4"><a class="reference internal" href="gstarted.html#error-response-4"><strong>Error Response</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gstarted.html#clickjacking-defense-for-sign-views-with-frameparent">Clickjacking Defense for Sign Views with frameParent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gstarted.html#signer-authentication-mechanisms">Signer authentication mechanisms</a></li>
<li class="toctree-l2"><a class="reference internal" href="gstarted.html#difference-between-commercial-and-govcloud">Difference between Commercial and GovCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="gstarted.html#id12">Signer authentication mechanisms</a></li>
<li class="toctree-l2"><a class="reference internal" href="gstarted.html#endpoints">Endpoints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="samples.html">GovCloud API Samples</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

        <!--- @@@@@@@@@@@@@@@@ Custom @@@@@@@@@@@@@@@@ -->
        <div class="fixedbar">  
          <div class="wy-menu-items">
            <a href="https://opensource.adobe.com/acrobat-sign/developer_guide/index.html" class="topbarlink">Developer Guide</a>
            <a href="https://opensource.adobe.com/acrobat-sign/acrobat_sign_events/index.html" class="topbarlink">Webhook Guide</a>
            <a href="https://secure.na1.adobesign.com/public/docs/restapi/v6" class="topbarlink">REST API Reference</a>
            <a href="https://opensource.adobe.com/acrobat-sign/tech_blog/" class="topbarlink">Tech Blog</a>
            <a href="https://www.adobe.com/sign/developer-form.html" class="topbarlink">Get a Dev Account</a>
            <a href="https://community.adobe.com/t5/acrobat-sign-developer/ct-p/ct-acrobat-sign-developer?page=1&sort=latest_replies&lang=all&tabid=all" class="topbarlink">Developer Forum</a>
          </div>  
          <div class="sign-in">
            <a href="https://secure.echosign.com/public/login" class="btn btn-console">Sign In</a>
           <!-- <a href="https://auth.services.adobe.com/en_US/index.html">Sign in</a>-->
          </div>
        </div>
        <!--- @@@@@@@@@@@@@@@@ Custom @@@@@@@@@@@@@@@@ -->




   
      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="toc.html">Acrobat Sign GovCloud Developer</a>
        
      </nav>


      <div class="wy-nav-content">
      <a href="#" id="scroll" style="display:inline;"><span></span></a>
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="toc.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Configuring Sign Solutions for Government</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p><strong>This is an early sample for review. Please do not share outside Adobe beyond direct shares to specific partners or customers.</strong></p>
<p>Contents</p>
<div class="section" id="configuring-sign-solutions-for-government">
<h1>Configuring Sign Solutions for Government<a class="headerlink" href="#configuring-sign-solutions-for-government" title="Permalink to this heading">¶</a></h1>
<p>To provide for a FedRAMP Moderate compliant authentication portal, Adobe has partnered with Okta, a leader in the Identity as a Service space. Okta is used as the user management system, gating access to Acrobat Sign. All users must be provisioned in Okta before their userID can be provisioned in Acrobat Sign. Customers and partners can elect to use Okta as their stand-alone authentication service or configure their existing directory service/SAML 2.0. compliant identity provider to manage user identity. Part of Okta provisioning requires domain claiming to prove that the customer or partner own the DNS name.</p>
<p>Once Adobe provisions the customer or partner Account at Okta as the Identity Provider, there are further steps at the link below.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://helpx.adobe.com/sign/fedramp/welcome-config.html">https://helpx.adobe.com/sign/fedramp/welcome-config.html</a></p></li>
<li><p>Note that customers and partners need to request that Adobe create API Applications for them, customers and partners cannot create API Application themselves.</p></li>
</ul>
<p>Sign for FedRAMP Tailored, as an alternative to FedRAMP Moderate, has further information covered by an NDA through the link below, but this is not the focus of this document.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.adobe.com/trust/resources/adobe-sign-fedramp-tailored-overview.html">https://www.adobe.com/trust/resources/adobe-sign-fedramp-tailored-overview.html#</a></p></li>
</ul>
<p>Creating your Okta and Sign Gov Cloud Account requires some key ingredients as outlined in the welcome-config link above.</p>
<ol class="arabic simple">
<li><p>An Okta activation link generated by Adobe to an tenant administrator account at a subdomain of okta.com.</p>
<ol class="arabic simple">
<li><p>Note the DNS name, admin username, and admin password for your tenant.</p></li>
</ol>
</li>
<li><p>A DNS domain that you, as a customer or partner, control that can participate in domain claiming, i.e. creating a TXT record with text uniquely generated by Adobe.
<a class="reference external" href="https://helpx.adobe.com/sign/fedramp/okta/okta-claim-domains.html">https://helpx.adobe.com/sign/fedramp/okta/okta-claim-domains.html</a></p>
<ol class="arabic simple">
<li><p>This DNS domain could be a subdomain of your second level domains, e.g. adobesigngov.example.org if example.org is your domain.</p></li>
</ol>
</li>
<li><p>Access to inboxes related to email address on the DNS domain that you control.</p>
<ol class="arabic simple">
<li><p>This could be inboxes direct related to your DNS domain, or you could use email forwarding, e.g. <a class="reference external" href="mailto:my&#46;user&#37;&#52;&#48;adobesigngov&#46;example&#46;org">my<span>&#46;</span>user<span>&#64;</span>adobesigngov<span>&#46;</span>example<span>&#46;</span>org</a> could forward to <a class="reference external" href="mailto:my&#46;user&#37;&#52;&#48;example&#46;org">my<span>&#46;</span>user<span>&#64;</span>example<span>&#46;</span>org</a>.</p></li>
<li><p>The key point is that you can somehow read invitation/activation emails for your users sent from your Okta instance to email addresses on your DNS domain.</p></li>
</ol>
</li>
<li><p>For multi-tenant partner integration accounts, it’s recommended to also have a separate DNS domain, which again could be a different subdomain, to use for testing as a customer.</p>
<ol class="arabic simple">
<li><p>This allows you to test customer account usage of a partner integration that’s defined on your partner account.</p></li>
</ol>
</li>
</ol>
<p>Once an Okta and Sign Account is provisioned, registering an customer (single-tenant) or partner (multi-tenant) API Application has these key steps:</p>
<ol class="arabic simple">
<li><p>Decide on the scopes required.</p></li>
<li><p>Decide on the redirect URI.</p></li>
<li><p>Decide if the API Application needs to support impersonation.</p></li>
<li><p>Ask Adobe to create an API Application for your account with the required scopes, impersonation (if required), and note if it’s for customer (single-tenant) or partner (multi-tenant) use.</p></li>
<li><p>Adobe will deliver the application <code class="docutils literal notranslate"><span class="pre">client_id</span></code> and <code class="docutils literal notranslate"><span class="pre">client_secret</span></code> securely in an encrypted file (via email).</p></li>
<li><p>Professional Service team member form Adobe will call (video or phone call) to verbally share the password to decrypt the file.</p></li>
<li><p>There is additional validation by Adobe to enable a partner (multi-tenant) API Application for use beyond its home Account.</p></li>
</ol>
</div>
<div class="section" id="sign-domains-and-apis">
<h1>Sign Domains and APIs<a class="headerlink" href="#sign-domains-and-apis" title="Permalink to this heading">¶</a></h1>
<p>The FedRAMP Moderate Government Cloud services for Adobe Acrobat Sign are on a different top-level domain (.us) than Sign Commercial cloud (.com), as noted below:</p>
<ul class="simple">
<li><p>US Government Cloud, FedRAMP Moderate compliant
<a class="reference external" href="https://secure.na1.adobesign.us">https://secure.na1.adobesign.us</a></p></li>
<li><p>Commercial Cloud, PCI and HIPAA compliant
<a class="reference external" href="https://secure.adobesign.com">https://secure.adobesign.com</a></p></li>
</ul>
<p>Sign APIs work similarly between Commercial Cloud (Comm Cloud) and US Government Cloud (Gov Cloud), with some exceptions and limitations, in particular with impersonation.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://secure.na1.adobesign.us/public/docs/restapi/v6">https://secure.na1.adobesign.us/public/docs/restapi/v6</a></p>
<ul>
<li><p>The x-api-user header for impersonation is not supported in Gov Cloud due to security restrictions with Okta, the underlying Identity Provider to Sign Gov Cloud.</p></li>
</ul>
</li>
<li><p>Sign REST v5 APIs also work in Gov Cloud, but v6 APIs are recommended.</p></li>
</ul>
<p>But Sign OAuth and impersonation work differently.</p>
<p><strong>Sign Gov Cloud</strong>:</p>
<ul class="simple">
<li><p>Only supports Sign OAuth, not Integrations Keys.</p></li>
<li><p>Only supports impersonation from Account-Admin scoped tokens, not yet Group-Admin ones.</p></li>
<li><p>Customers and Partners have to ask Adobe to enable impersonation for an Application.</p>
<ul>
<li><p>Gov Cloud impersonation is enabled on an application by the <code class="docutils literal notranslate"><span class="pre">acc_imp</span></code> scope.</p></li>
<li><p>Gov Cloud refresh tokens are enabled by the <code class="docutils literal notranslate"><span class="pre">offline_access</span></code> scope.</p></li>
<li><p>Both Sign Gov Cloud and Comm Cloud enable use of<code class="docutils literal notranslate"><span class="pre">autoLogin:</span> <span class="pre">true</span></code> for Sign /view APIs by the<code class="docutils literal notranslate"><span class="pre">user_login</span></code> scope.</p></li>
</ul>
</li>
<li><p>For impersonation, API applications need to exchange the Sign Admin token for another user-impersonation token.</p>
<ul>
<li><p>The x-api-user header is not supported, but continues to be used in Comm Cloud as the way to impersonate other users based on an Admin-level token.</p></li>
<li><p>Generate an <strong>admin_token</strong> (and associated <strong>admin_refresh_token</strong> ). Anadmin_tokencan only be generated by anAccount Admin.</p></li>
<li><p>Then use the <strong>admin_token</strong> to generate an <strong>impersonation_token</strong> . A particular admin_tokencanonly be used to generate the impersonation_token for users in the same account as the Account Admin for which theadmin_tokenwas generated.</p></li>
<li><p>The lifespan of theadmin_tokenis 5 min.</p></li>
<li><p>Theadmin_refresh_tokenlifetime isunlimited, but will expire if inactive (not used) for more than 30 days.</p></li>
<li><p>Theadmin_refresh_token should be persisted in a secure storage location (for headless/background processing).</p></li>
</ul>
</li>
<li><p>Uses a different OAuth API to cover different compatibility constraints for Gov Cloud.
<a class="reference external" href="https://secure.na1.adobesign.us/api/gateway/adobesignauthservice">https://secure.na1.adobesign.us/api/gateway/adobesignauthservice</a> is the &lt;ENV&gt; prefix for the endpoints below</p>
<ul>
<li><p>GET &lt;ENV&gt;/api/v1/authorize</p>
<ul>
<li><p>startthe authorization code flow to login and consent to application permissions</p></li>
</ul>
</li>
<li><p>POST &lt;ENV&gt;/api/v1/token</p>
<ul>
<li><p>obtainan access_token and, except for impersonation, a refresh_token upon successful completion and redirect back from the authorization code flow</p></li>
</ul>
</li>
<li><p>POST &lt;ENV&gt;/api/v1/validate_token</p>
<ul>
<li><p>validate an existing token</p></li>
</ul>
</li>
<li><p>POST &lt;ENV&gt;/api/v1/invalidate_token</p>
<ul>
<li><p>invalidate/revoke a particular token</p></li>
</ul>
</li>
<li><p>GET &lt;ENV&gt;/api/v1/logout</p>
<ul>
<li><p>invalidate/revoke all tokens related to the user to which the token belongs</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Sign Comm Cloud just for comparison to Gov Cloud:</p>
<ul class="simple">
<li><p>API applications continue to use x-api-user as before Gov Cloud was available and the token exchange from Gov Cloud is not supported.</p></li>
<li><p>It continues to use its long-standing OAuth related APIs which are not usable in Gov Cloud.
<a class="reference external" href="https://secure.na1.adobesign.com/public/static/oauthDoc.jsp">https://secure.na1.adobesign.com/public/static/oauthDoc.jsp</a><a class="reference external" href="https://secure.na1.adobesign.com/public/static/oauthDoc.jsp">https://secure.na1.adobesign.com</a>is the &lt;ENV&gt; prefix for the endpoints below</p>
<ul>
<li><p>GET &lt;ENV&gt;/public/oauth/v2</p>
<ul>
<li><p>start the authorization code flow to login and consent to application permissions</p></li>
</ul>
</li>
<li><p>POST &lt;ENV&gt;/oauth/v2/token</p>
<ul>
<li><p>obtain an access_token and refresh_token upon successful completion and redirect back from the authorization code flow</p></li>
</ul>
</li>
<li><p>POST &lt;ENV&gt;/oauth/v2/refresh</p>
<ul>
<li><p>to obtain a new access_token based on a refresh_token</p></li>
</ul>
</li>
<li><p>POST &lt;ENV&gt;/oauth/v2/revoke</p>
<ul>
<li><p>to revoke an access_token or refresh_token and any related tokens</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Note there are also deprecated but still working prior Sign OAuth v1 related APIs (GET …/public/oath, POST …/oauth/token, etc.)</p></li>
</ul>
</div>
<div class="section" id="gov-cloud-oauth-and-impersonation-apis">
<h1>Gov Cloud OAuth and Impersonation APIs<a class="headerlink" href="#gov-cloud-oauth-and-impersonation-apis" title="Permalink to this heading">¶</a></h1>
<p>Sign Gov Cloud uses a different OAuth API to cover different security constraints for Gov Cloud.</p>
<ul class="simple">
<li><p>This is the &lt;ENV&gt; prefix for the endpoints in subsections further below:
<a class="reference external" href="https://secure.na1.adobesign.us/api/gateway/adobesignauthservice">https://secure.na1.adobesign.us/api/gateway/adobesignauthservice</a></p></li>
<li><p>As Sign Gov Cloud OAuth leverages Okta, some Okta OAuth reference can help with a deeper understanding but Sign Gov Cloud OAuth endpoints must be used, not direct Okta OAuth APIs.
<a class="reference external" href="https://developer.okta.com/docs/reference/api/oidc/#endpoints">https://developer.okta.com/docs/reference/api/oidc/#endpoints</a></p></li>
</ul>
<p>Note these APIs follow an under_score naming convention, as opposed to camelCase, for parameters as they relate to OAuth, Adobe Identity, and OKTA APIs with this similar naming convention.</p>
<p>It’s recommended to pass an x-request-id header with APIs as way to track request for debugging.</p>
<div class="section" id="authorize">
<h2><strong>Authorize</strong><a class="headerlink" href="#authorize" title="Permalink to this heading">¶</a></h2>
<p><strong>Summary:</strong> The request redirects the user agent to the specified (or default) Identity Provider (IdP) for authentication. The actual UI that is displayed to the user depends on your client type in your respective IDP. **
**</p>
<p>This is a starting point for browser-based OpenID Connect flows such as authorization code flow. This request authenticates the user andreturns authorization code to the clientapplication as a part of the callback response (redirect uri).</p>
<div class="section" id="request">
<h3>Request<a class="headerlink" href="#request" title="Permalink to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Method</strong></p></td>
<td><p>GET</p></td>
</tr>
<tr class="row-even"><td><p><strong>Authorization required</strong></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Available versions</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;ENV&gt;/api/v1/authorize</span></code></p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Request QueryParameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Required</strong></p></th>
<th class="head"><p>Data Type</p></th>
<th class="head"><p><strong>Default</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>client_id</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Identifies the application/client pre-registered with Authorization Server</p></td>
</tr>
<tr class="row-odd"><td><p>response_type</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td><p>code</p></td>
<td><p>Expected as “code” for the authorization code flow to have authorization code to be returned as a part of response</p></td>
</tr>
<tr class="row-even"><td><p>redirect_uri</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>User will be redirected here at the end of the authorization process.
The value must belong to the set of values specified on the OAuth Configuration page</p></td>
</tr>
<tr class="row-odd"><td><p>scope</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>The permissions (space separated, spaces becoming + or %20 when URL-encoded) that the user will be asked to approve. ex: &amp;scope=email,openid</p></td>
</tr>
<tr class="row-even"><td><p>state</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>A value to be returned as a query parameter. This will be used to implement CSRF protection on the client side.It can contain alphanumeric, comma, period, underscore, and hyphen characters.</p></td>
</tr>
<tr class="row-odd"><td><p>login_hint</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Email of user trying to login, to help identify tenant by email domain</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="response">
<h3>Response<a class="headerlink" href="#response" title="Permalink to this heading">¶</a></h3>
<p>Once the user is authenticated by the Identity Provider, determines whether authorization can be granted, then <strong>redirects the user agent to the URI that you have supplied or configured for your client’s start page.</strong> The redirect contains the authorization grant, in the form of the code or token appropriate to your grant type.</p>
<p><strong>Note:</strong> When making requests to the <code class="docutils literal notranslate"><span class="pre">/authorize</span></code> endpoint, the browser (user agent) should be redirected to the endpoint . You can’t use AJAX with this endpoint but you can have a link or button directly or indirectly via JS navigates to the /authorize URL: &lt;ENV&gt;/api/v1/authorize?clientId=…&amp;response_type=…&amp;scope=…&amp;state=…&amp;login_hint=…&amp;redirectUri=…</p>
</div>
<div class="section" id="success-response">
<h3><strong>Success Response</strong><a class="headerlink" href="#success-response" title="Permalink to this heading">¶</a></h3>
<p>The following will be returned as URL query parameters from the IDP (OKTA or Adobe IMS) as part of 302 redirect:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 92%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>code</p></td>
<td><p>An opaque value that can be used to redeem tokens from the token endpoint. <code class="docutils literal notranslate"><span class="pre">code</span></code> is returned if the <code class="docutils literal notranslate"><span class="pre">response_type</span></code> includes <code class="docutils literal notranslate"><span class="pre">code</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>expires_in</p></td>
<td><p>Number of seconds until the <code class="docutils literal notranslate"><span class="pre">access_token</span></code> expires. This is only returned if the response included an <code class="docutils literal notranslate"><span class="pre">access_token</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>state</p></td>
<td><p>The unmodified <code class="docutils literal notranslate"><span class="pre">state</span></code> value from the request.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="error-response">
<h3><strong>Error Response</strong><a class="headerlink" href="#error-response" title="Permalink to this heading">¶</a></h3>
<p>The API returns the following URL query parameters on error:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>error</p></td>
<td><p>The error code, if something went wrong.</p></td>
</tr>
<tr class="row-odd"><td><p>error_description</p></td>
<td><p>Additional error information (if any).</p></td>
</tr>
</tbody>
</table>
<p><strong>Error Codes</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>error</strong></p></th>
<th class="head"><p><strong>error_description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>invalid_client</p></td>
<td><p>The specified client ID is invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>invalid_request</p></td>
<td><p>&lt;Parameter Name&gt; is missing or empty/invalid.</p></td>
</tr>
<tr class="row-even"><td><p>invalid_scope</p></td>
<td><p>The scopes list contains an invalid or unsupported value.</p></td>
</tr>
<tr class="row-odd"><td><p>temporarily_unavailable</p></td>
<td><p>The server is temporarily unavailable, but should be able to process the request at a later time.</p></td>
</tr>
<tr class="row-even"><td><p>unsupported_response_type</p></td>
<td><p>The specified response type is invalid or unsupported.</p></td>
</tr>
<tr class="row-odd"><td><p>internal_server_error</p></td>
<td><p>Service Error</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="token">
<h2><strong>Token</strong><a class="headerlink" href="#token" title="Permalink to this heading">¶</a></h2>
<p><strong>Summary:</strong> This endpoint returns access tokens, ID tokens, and refresh tokens, depending on the request parameters. Please refer specific grant_type flows for list of required parameters.</p>
<div class="section" id="common-request-aspects">
<h3>Common Request Aspects<a class="headerlink" href="#common-request-aspects" title="Permalink to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Method</strong></p></td>
<td><p>POST</p></td>
</tr>
<tr class="row-even"><td><p><strong>Authorization required</strong></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Content-Type:</strong></p></td>
<td><p>application/x-www-form-urlencoded</p></td>
</tr>
<tr class="row-even"><td><p><strong>Available versions</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;ENV&gt;/api/v1/token</span></code></p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="request-with-authorization-code">
<h3>Request with Authorization Code<a class="headerlink" href="#request-with-authorization-code" title="Permalink to this heading">¶</a></h3>
<p>For the ‘authorization code’flow, calling <code class="docutils literal notranslate"><span class="pre">/token</span></code> is the second step of the flow.</p>
<p>Request Body Parameters</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Data Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>client_id</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Your client ID, assigned on registration.</p></td>
</tr>
<tr class="row-odd"><td><p>client_assertion_type</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_assertion_type specifies the type of value of client assertion. Refer to Okta docs <a class="reference external" href="https://developer.okta.com/docs/reference/api/oidc/">here</a>, e.g. <a class="reference external" href="urn:ietf:params:oauth:client-assertion-type:jwt-bearer.Must">urn:ietf:params:oauth:client-assertion-type:jwt-bearer.Must</a> be present if client_secret is not provided.</p></td>
</tr>
<tr class="row-even"><td><p>client_assertion</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_assertion related to the client_assertion_type above. Must be present if client_secret is not provided.</p>
<p>Audience used to generate this assertion must be ‘token_endpoint’ provided as a part of application onboarding.</p>
</td>
</tr>
<tr class="row-odd"><td><p>client_secret</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_secret related to the client_assertion_type above. Must be present if both of client_assertion_type and client_assertion are not provided.</p></td>
</tr>
<tr class="row-even"><td><p>grant_type</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Determines the mechanism the IdP uses to initiate the creation of the tokens. Use the string literal ‘authorization_code’.</p></td>
</tr>
<tr class="row-odd"><td><p>code</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>The authorization code that was returned from the /authorize endpoint.</p></td>
</tr>
<tr class="row-even"><td><p>redirect_uri</p></td>
<td><p>Yes</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</td>
<td><p>String</p></td>
<td></td>
<td><p>Specifies the callback location where the authorization was sent. This value must match the <code class="docutils literal notranslate"><span class="pre">redirect_uri</span></code> parameter that was passed to the /authorize endpoint.</p></td>
</tr>
</tbody>
</table>
<p>If you want the response to this request to include a refresh token, you must have the scope <code class="docutils literal notranslate"><span class="pre">'</span></code> <code class="docutils literal notranslate"><span class="pre">offline_access'</span></code> enabled. In the authorization code flow, this means that you need to include <code class="docutils literal notranslate"><span class="pre">'</span></code> <code class="docutils literal notranslate"><span class="pre">offline_access'</span></code> as part of <code class="docutils literal notranslate"><span class="pre">scope</span></code>in your GET request to /authorize.</p>
</div>
<div class="section" id="request-with-refresh-token">
<h3>Request with Refresh Token<a class="headerlink" href="#request-with-refresh-token" title="Permalink to this heading">¶</a></h3>
<p>Request Body Parameters</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Data Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>client_id</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Your client ID, assigned on registration.</p></td>
</tr>
<tr class="row-odd"><td><p>client_assertion_type</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_assertion_type specifies the type of value of client assertion. Refer to Okta docs <a class="reference external" href="https://developer.okta.com/docs/reference/api/oidc/">here</a>, e.g. <a class="reference external" href="urn:ietf:params:oauth:client-assertion-type:jwt-bearer.Must">urn:ietf:params:oauth:client-assertion-type:jwt-bearer.Must</a> be present if client_secret is not provided.</p></td>
</tr>
<tr class="row-even"><td><p>client_assertion</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_assertion related to the client_assertion_type above. Must be present if client_secret is not provided.</p>
<p>Audience used to generate this assertion must be ‘token_endpoint’ provided as a part of application onboarding.</p>
</td>
</tr>
<tr class="row-odd"><td><p>client_secret</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_secret related to the client_assertion_type above. Must be present if client_assertion_type and client_assertion is not provided.</p></td>
</tr>
<tr class="row-even"><td><p>grant_type</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Should have the value as:<code class="docutils literal notranslate"><span class="pre">refresh_token</span></code>. Determines the mechanism IDP uses to initiate the creation of the tokens.</p></td>
</tr>
<tr class="row-odd"><td><p>refresh_token</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>The value is a valid refresh token that was returned from this endpoint previously.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="requestimpersonation">
<h3>RequestImpersonation<a class="headerlink" href="#requestimpersonation" title="Permalink to this heading">¶</a></h3>
<p>Exchanges a previously acquired token for an account/group admin inside an organization and scope to one for a selected user inside the organization.The parameters are based on RFC 8693.</p>
<p>Request Body Parameters</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Data Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>client_id</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Your client ID, assigned on registration.</p></td>
</tr>
<tr class="row-odd"><td><p>client_assertion_type</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_assertion_type specifies the type of value of client assertion. Refer to Okta docs <a class="reference external" href="https://developer.okta.com/docs/reference/api/oidc/">here</a>, e.g. <a class="reference external" href="urn:ietf:params:oauth:client-assertion-type:jwt-bearer.Must">urn:ietf:params:oauth:client-assertion-type:jwt-bearer.Must</a> be present if client_secret is not provided.</p></td>
</tr>
<tr class="row-even"><td><p>client_assertion</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_assertion related to the client_assertion_type above. Must be present if client_secret is not provided.</p>
<p>Audience used to generate this assertion must be ‘token_endpoint’ provided as a part of application onboarding.</p>
</td>
</tr>
<tr class="row-odd"><td><p>client_secret</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_secret related to the client_assertion_type above. Must be present if client_assertion_type and client_assertion is not provided.</p></td>
</tr>
<tr class="row-even"><td><p>grant_type</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Should have the value as :<a class="reference external" href="urn:ietf:params:oauth:grant-type:token">urn:ietf:params:oauth:grant-type:token</a>- exchange</p></td>
</tr>
<tr class="row-odd"><td><p>scope</p></td>
<td><p>Yes</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</td>
<td><p>String</p></td>
<td></td>
<td><p>This is a list of scopes (space separated, spaces becoming + or %20 when URL-encoded) that the client wants to be included in the access token. Please note :</p>
<ol class="arabic simple">
<li><p>The scopes being requested must be subset of the actor_token scopes</p></li>
<li><p>Impersonation scopes can’t be requested (acc_imp, group_imp), even though they will be granted to actor_token</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>actor_token_type</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Should have the value as :”access_token”. Though not specified to be passed in tables above the “access_token” is granted for 3.1 and 3.2 as well.</p></td>
</tr>
<tr class="row-odd"><td><p>subject_token_type</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Should have the value as : “jwt”</p></td>
</tr>
<tr class="row-even"><td><p>subject_token</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>For passing the subject user information for whichimpersonation is requested. Unsecured user info jwt_token as per RFC 7519.</p>
<p>Sample Value for a subject with user id <a class="reference external" href="mailto:service-fedramp-dev&#37;&#52;&#48;adobesignintegrationsdemo&#46;com">service-fedramp-dev<span>&#64;</span>adobesignintegrationsdemo<span>&#46;</span>com</a>:</p>
<p>eyJhbGciOiJub25lIn0=.eyJ1c2VyX2VtYWlsIjoic2VydmljZS1mZWRyYW1wLWRldkBhZG9iZXNpZ25pbnRlZ3JhdGlvbnNkZW1vLmNvbSJ9</p>
<p>The above value is obtained by doing a base64 encode of {“alg”:”none”} and concatenating it with base64 encode of {“user_email”:”<a class="reference external" href="mailto:service-fedramp-dev&#37;&#52;&#48;adobesignintegrationsdemo&#46;com">service-fedramp-dev<span>&#64;</span>adobesignintegrationsdemo<span>&#46;</span>com</a>”} separated by a period (.)</p>
<p>{“alg”:”none”}.{“user_email”:”<a class="reference external" href="mailto:service-fedramp-dev&#37;&#52;&#48;adobesignintegrationsdemo&#46;com">service-fedramp-dev<span>&#64;</span>adobesignintegrationsdemo<span>&#46;</span>com</a>”}</p>
</td>
</tr>
<tr class="row-odd"><td><p>actor_token</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Theadmin tokenfor which impersonation is requested. Please note :</p>
<ol class="arabic simple">
<li><p>The passed admin token should have either of impersonation scopes : acc_imp, group_imp</p></li>
</ol>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="success-response-1">
<span id="id1"></span><h3><strong>Success Response</strong><a class="headerlink" href="#success-response-1" title="Permalink to this heading">¶</a></h3>
<p>The API returns the following JSON attributes on success:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>access_token</p></td>
<td><p>Anaccess token.</p></td>
</tr>
<tr class="row-odd"><td><p>token_type</p></td>
<td><p>The audience (Bearer) of the token.</p></td>
</tr>
<tr class="row-even"><td><p>expires_in</p></td>
<td><p>The expiration time of the access token in seconds.</p></td>
</tr>
<tr class="row-odd"><td><p>scope</p></td>
<td><p>The scopes (space separated) contained in the access token.</p></td>
</tr>
<tr class="row-even"><td><p>refresh_token</p></td>
<td><p>Refresh Token, which can be used to get a fresh Access Token. This would not be returned from impersonation flow token generation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="error-response-1">
<span id="id2"></span><h3><strong>Error Response</strong><a class="headerlink" href="#error-response-1" title="Permalink to this heading">¶</a></h3>
<p>The API returns the following JSON attributes on error:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>error</p></td>
<td><p>The error code, if something went wrong.</p></td>
</tr>
<tr class="row-odd"><td><p>error_description</p></td>
<td><p>Additional error information (if any).</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</td>
</tr>
</tbody>
</table>
<p><strong>Error Codes</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 9%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>error</p></th>
<th class="head"><p>error_code</p></th>
<th class="head"><p>error_description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>invalid_client</p></td>
<td><p>400</p></td>
<td><p>The client credentials are invalid or expired.</p></td>
</tr>
<tr class="row-odd"><td><p>invalid_grant</p></td>
<td><p>400</p></td>
<td><p>The code or refresh_token or redirect_uri in combination with grant_type is invalid.</p></td>
</tr>
<tr class="row-even"><td><p>invalid_request</p></td>
<td><p>400</p></td>
<td><p>&lt;Parameter Name&gt; is missing or empty/invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>invalid_scope</p></td>
<td><p>400</p></td>
<td><p>The scopes list contains an invalid or unsupported value.</p></td>
</tr>
<tr class="row-even"><td><p>invalid_authenticating_token</p></td>
<td><p>401</p></td>
<td><p>actor_token is missing or invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>unsupported_grant_type</p></td>
<td><p>400</p></td>
<td><p>The grant_type isn’t authorization_code , refresh_token or token_exchange.</p></td>
</tr>
<tr class="row-even"><td><p>invalid_body</p></td>
<td><p>400</p></td>
<td><p>actor_token or user_id provided ineligible for issuing token.</p></td>
</tr>
<tr class="row-odd"><td><p>internal_server_error</p></td>
<td><p>500</p></td>
<td><p>Service Error</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="validate-token">
<h2><strong>Validate Token</strong><a class="headerlink" href="#validate-token" title="Permalink to this heading">¶</a></h2>
<p><strong>Summary:</strong> This endpoint takes an access, ID, or refresh token, and returns a boolean that indicates whether it is active or not. If the token is active, additional data about the token is also returned. If the token is invalid, expired, or revoked, it is considered inactive.</p>
<div class="section" id="common-request-aspects-1">
<span id="id3"></span><h3>Common Request Aspects<a class="headerlink" href="#common-request-aspects-1" title="Permalink to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 39%" />
<col style="width: 61%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Method</strong></p></td>
<td><p>POST</p></td>
</tr>
<tr class="row-even"><td><p><strong>Authorization required</strong></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Content-Type:</strong></p></td>
<td><p>application/x-www-form-urlencoded</p></td>
</tr>
<tr class="row-even"><td><p><strong>Available versions</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;ENV&gt;/api/v1/validate_token</span></code></p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Request Body Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Data Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>client_id</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Your client ID, assigned on registration.</p></td>
</tr>
<tr class="row-odd"><td><p>client_assertion_type</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_assertion_type specifies the type of value of client assertion. Refer to Okta docs <a class="reference external" href="https://developer.okta.com/docs/reference/api/oidc/">here</a>, e.g. <a class="reference external" href="urn:ietf:params:oauth:client-assertion-type:jwt-bearer.Must">urn:ietf:params:oauth:client-assertion-type:jwt-bearer.Must</a> be present if client_secret is not provided.</p></td>
</tr>
<tr class="row-even"><td><p>client_assertion</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_assertion related to the client_assertion_type above. Must be present if client_secret is not provided.</p>
<p>Audience used to generate this assertion must be ‘validate_token_endpoint ‘ provided as a part of application onboarding.</p>
</td>
</tr>
<tr class="row-odd"><td><p>client_secret</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_secret related to the client_assertion_type above. Must be present if client_assertion_type and client_assertion is not provided.</p></td>
</tr>
<tr class="row-even"><td><p>token</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Token that needs to be validate</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Type Of token being passed</p>
<p>(Accepted Values :access_token, <code class="docutils literal notranslate"><span class="pre">id_token,</span></code> <code class="docutils literal notranslate"><span class="pre">authorization_code,</span></code> <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code> .)</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="success-response-2">
<span id="id4"></span><h3>Success Response<a class="headerlink" href="#success-response-2" title="Permalink to this heading">¶</a></h3>
<p>The API returns the following JSON attributes on success:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>scope</p></td>
<td><p>A space-delimited list of scopes</p></td>
</tr>
<tr class="row-odd"><td><p>valid</p></td>
<td><p>boolean to determine, If the provided token is valid</p></td>
</tr>
<tr class="row-even"><td><p>fg</p></td>
<td><p>Floodgate value as described in the<a class="reference external" href="https://wiki.corp.adobe.com/display/ims/Floodgate+in+IMS">here</a>.</p></td>
</tr>
<tr class="row-odd"><td><p>audience</p></td>
<td><p>The audience of the token</p></td>
</tr>
<tr class="row-even"><td><p>expires_in</p></td>
<td><p>The duration in seconds for which the token is valid since the issued_at time.</p></td>
</tr>
<tr class="row-odd"><td><p>expires_at</p></td>
<td><p>The expiration time of the token in seconds since January 1, 1970 UTC.</p></td>
</tr>
<tr class="row-even"><td><p>client_id</p></td>
<td><p>The ID of the client associated with the token</p></td>
</tr>
<tr class="row-odd"><td><p>device_id</p></td>
<td><p>The ID of the device associated with the token</p></td>
</tr>
<tr class="row-even"><td><p>id</p></td>
<td><p>The identifier of the token</p></td>
</tr>
<tr class="row-odd"><td><p>issuer</p></td>
<td><p>The issuer of the token</p></td>
</tr>
<tr class="row-even"><td><p>issued_at</p></td>
<td><p>The issuing time of the token in seconds since January 1, 1970 UTC.</p></td>
</tr>
<tr class="row-odd"><td><p>as</p></td>
<td><p>The short name of the authorization server that issued the token.</p></td>
</tr>
<tr class="row-even"><td><p>subject</p></td>
<td><p>The subject of the token</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p>The type of token.</p></td>
</tr>
<tr class="row-even"><td><p>user_id</p></td>
<td><p>The user ID. This parameter is returned only if the token is an access token and the subject is an end user.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="error-response-2">
<span id="id5"></span><h3><strong>Error Response</strong><a class="headerlink" href="#error-response-2" title="Permalink to this heading">¶</a></h3>
<p>The API returns the following JSON attributes on error:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 59%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>error</p></td>
<td><p>Error Code</p></td>
</tr>
<tr class="row-odd"><td><p>error_description</p></td>
<td><p>Error Reason</p></td>
</tr>
</tbody>
</table>
<p><strong>Error Codes</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>error</p></th>
<th class="head"><p>error_code</p></th>
<th class="head"><p>error_description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>invalid_client</p></td>
<td><p>400</p></td>
<td><p>The client credentials are invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>invalid_request</p></td>
<td><p>400</p></td>
<td><p>&lt;Parameter Name&gt; is missing or empty/invalid.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">token_type_mismatch</span></code></p></td>
<td><p>400</p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> field was specified in the request, but does not match the actual token type</p></td>
</tr>
<tr class="row-odd"><td><p>internal_server_error</p></td>
<td><p>500</p></td>
<td><p>Service Error</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="invalidate-token">
<h2><strong>Invalidate Token</strong><a class="headerlink" href="#invalidate-token" title="Permalink to this heading">¶</a></h2>
<p><strong>Summary:</strong> The API takes an access or refresh token and revokes it.</p>
<div class="section" id="request-1">
<span id="id6"></span><h3>Request<a class="headerlink" href="#request-1" title="Permalink to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Method</strong></p></td>
<td><p>POST</p></td>
</tr>
<tr class="row-even"><td><p><strong>Authorization required</strong></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Content-Type:</strong></p></td>
<td><p>application/x-www-form-urlencoded</p></td>
</tr>
<tr class="row-even"><td><p><strong>Available versions</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;ENV&gt;/api/v1/invalidate_token</span></code></p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Request Body Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Data Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>client_id</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Your client ID, assigned on registration.</p></td>
</tr>
<tr class="row-odd"><td><p>client_assertion_type</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_assertion_type specifies the type of value of client assertion. Refer to Okta docs <a class="reference external" href="https://developer.okta.com/docs/reference/api/oidc/">here</a>, e.g. <a class="reference external" href="urn:ietf:params:oauth:client-assertion-type:jwt-bearer.Must">urn:ietf:params:oauth:client-assertion-type:jwt-bearer.Must</a> be present if client_secret is not provided.</p></td>
</tr>
<tr class="row-even"><td><p>client_assertion</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_assertion related to the client_assertion_type above. Must be present if client_secret is not provided.</p>
<p>Audience used to generate this assertion must be ‘revoke_token_endpoint ‘ provided as a part of application onboarding.</p>
</td>
</tr>
<tr class="row-odd"><td><p>client_secret</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>client_secret related to the client_assertion_type above. Must be present if client_assertion_type and client_assertion is not provided.</p></td>
</tr>
<tr class="row-even"><td><p>token</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Token that needs to be validated</p></td>
</tr>
<tr class="row-odd"><td><p>token_type</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Type Of token being passed</p>
<p>(Accepted Values :access_token, <code class="docutils literal notranslate"><span class="pre">id_token,</span></code> <code class="docutils literal notranslate"><span class="pre">authorization_code,</span></code> <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code> .)</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="success-response-3">
<span id="id7"></span><h3>Success Response<a class="headerlink" href="#success-response-3" title="Permalink to this heading">¶</a></h3>
<p>On success, the response has the HTTP <strong>200</strong> (OK) status code. This means only that the authorization was accepted, it does not indicate the success or failure of the operation. Validate token api can be used to confirm that the token was successfully invalidated.</p>
</div>
<div class="section" id="error-response-3">
<span id="id8"></span><h3>Error Response<a class="headerlink" href="#error-response-3" title="Permalink to this heading">¶</a></h3>
<p>The API returns the following JSON attributes on error:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>error</p></td>
<td><p>Error Code</p></td>
</tr>
<tr class="row-odd"><td><p>error_description</p></td>
<td><p>Error Reason</p></td>
</tr>
</tbody>
</table>
<p><strong>Error Codes</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>error</p></th>
<th class="head"><p>error_code</p></th>
<th class="head"><p>error_description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>invalid_client</p></td>
<td><p>400</p></td>
<td><p>The client credentials are invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>invalid_request</p></td>
<td><p>400</p></td>
<td><p>&lt;Parameter Name&gt; is missing or empty/invalid.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">token_type_mismatch</span></code></p></td>
<td><p>400</p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> field was specified in the request, but does not match the actual token type</p></td>
</tr>
<tr class="row-odd"><td><p>internal_server_error</p></td>
<td><p>500</p></td>
<td><p>Service Error</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="logout">
<h2><strong>Logout</strong><a class="headerlink" href="#logout" title="Permalink to this heading">¶</a></h2>
<p>This endpoint logs the web browser user out of IDP, if the subject matches that in current IDP session. An optional redirect_uri may be specified to redirect the browser after the logout is performed. Otherwise, the browser is redirected to the IDP sign-in page.</p>
<p>Logout is meant to be used as a URL link navigation from an interactive web browser UI, whereas Invalidate Token is meant to be used as a service API call.</p>
<div class="section" id="request-2">
<span id="id9"></span><h3>Request<a class="headerlink" href="#request-2" title="Permalink to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 66%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Request method</strong></p></td>
<td><p>GET</p></td>
</tr>
<tr class="row-even"><td><p><strong>Authorization required</strong></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Available versions</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;ENV&gt;/api/v1/logout</span></code></p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Request Query Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 9%" />
<col style="width: 10%" />
<col style="width: 8%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Data Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>client_id</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>Your client ID, assigned on registration.</p></td>
</tr>
<tr class="row-odd"><td><p>access_token</p></td>
<td><p>Yes</p></td>
<td><p>String</p></td>
<td></td>
<td><p>The revoked access_token.</p></td>
</tr>
<tr class="row-even"><td><p>redirect_uri</p></td>
<td><p>No</p></td>
<td><p>String</p></td>
<td></td>
<td><p>User will be redirected here at the end of the logout process.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="success-response-4">
<span id="id10"></span><h3>Success Response<a class="headerlink" href="#success-response-4" title="Permalink to this heading">¶</a></h3>
<p>After internal redirects, the IDP redirects the user agent back to the supplied<code class="docutils literal notranslate"><span class="pre">redirect_uri</span></code>location (if provided).</p>
</div>
<div class="section" id="error-response-4">
<span id="id11"></span><h3><strong>Error Response</strong><a class="headerlink" href="#error-response-4" title="Permalink to this heading">¶</a></h3>
<p>The API returns the following JSON attributes on error:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>error</p></td>
<td><p>The error code, if something went wrong.</p></td>
</tr>
<tr class="row-odd"><td><p>error_description</p></td>
<td><p>Additional error information (if any).</p></td>
</tr>
</tbody>
</table>
<p><strong>Error Codes</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 66%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>error</strong></p></th>
<th class="head"><p><strong>error_description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>invalid_client</p></td>
<td><p>The specified client ID is invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>invalid_request</p></td>
<td><p>&lt;Parameter Name&gt; is missing or empty/invalid.</p></td>
</tr>
<tr class="row-even"><td><p>internal_server_error</p></td>
<td><p>Service Error</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="clickjacking-defense-for-sign-views-with-frameparent">
<h2>Clickjacking Defense for Sign Views with frameParent<a class="headerlink" href="#clickjacking-defense-for-sign-views-with-frameparent" title="Permalink to this heading">¶</a></h2>
<p>API Applications using Sign Views in iframes or WebViews must leverage the clickjacking defense for Sign APIs, which means specifying the <code class="docutils literal notranslate"><span class="pre">frameParent</span></code> property with Sign <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">.../agreements/.../views</span></code> .
<a class="reference external" href="https://secure.na1.adobesign.com/public/docs/restapi/v6#!/agreements/createAgreementView">https://secure.na1.adobesign.com/public/docs/restapi/v6#!/agreements/createAgreementView</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;frameParent&quot;:</span> <span class="pre">&lt;domain</span> <span class="pre">suffix</span> <span class="pre">(e.g.</span></code> <code class="docutils literal notranslate"><span class="pre">adobe.com</span></code> <code class="docutils literal notranslate"><span class="pre">)&gt;</span></code></p></li>
<li><p>The domain suffix is the domain to at least the 2nd level, e.g. “adobe.com” but NOT just the top level “com”.</p></li>
<li><p>The domain suffix will also support a full origin such as <code class="docutils literal notranslate"><span class="pre">https://secure.adobesign.com</span></code> but it will not support a wildcard (*) domain prefix.</p></li>
<li><p>It also supports multiple domains as comma separated values.</p></li>
</ul>
</div>
</div>
<div class="section" id="gov-cloud-differences-from-commercial-cloud">
<h1>Gov Cloud Differences from Commercial Cloud<a class="headerlink" href="#gov-cloud-differences-from-commercial-cloud" title="Permalink to this heading">¶</a></h1>
<div class="section" id="signer-authentication">
<h2>Signer Authentication<a class="headerlink" href="#signer-authentication" title="Permalink to this heading">¶</a></h2>
<p>The following Signer Authentication mechanisms are available for Gov Cloud:</p>
<ul class="simple">
<li><p>Email</p></li>
<li><p>Password</p></li>
<li><p>Phone</p></li>
<li><p>Knowledge Based Authentication (KBA)</p></li>
<li><p>Acrobat Sign</p></li>
<li><p>Government ID</p></li>
<li><p>Digital Identity Gateway</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Adobe Inc..
      <span class="lastupdated">
        Last update: Jan 30, 2023. 
        <img src="../_static/adobelogo.png" class="logo"/> 
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>